3 START
FIRST_LOCATION:input

START:7 FIRST_LOCATION LOCATION
7 LOCATION:0 INSTRUCTION
7 LOCATION LOC_VALUE
2 LOCATION ONE GET_LOC


CHECK_INSTRUCTION:4 INSTRUCTION ONE one
4 INSTRUCTION TWO two
4 INSTRUCTION THREE three
4 INSTRUCTION FOUR four
4 INSTRUCTION FIVE five
4 INSTRUCTION SEVEN seven
4 INSTRUCTION ZERO zero
4 INSTRUCTION NINE nine
4 INSTRUCTION TEN ten


one:1 LOC_VALUE ONE LOC_VALUE
7 LOC_VALUE CELL1
7 CELL1:0 VALUE1
1 GET_LOC VALUE1 ADD1 
7 ADD1 NUM1

1 LOC_VALUE ONE LOC_VALUE
7 LOC_VALUE CELL2
7 CELL2:0 VALUE2
1 GET_LOC VALUE2 ADD2 
7 ADD2 NUM2

1 LOC_VALUE ONE LOC_VALUE
7 LOC_VALUE CELL3
7 CELL3:0 VALUE3
1 VALUE3 GET_LOC RE_ADD
1 NUM1:0 NUM2:0 RE_ADD:0

1 LOC_VALUE ONE LOC_VALUE
7 LOC_VALUE NEXT_INSTRUCTION
7 NEXT_INSTRUCTION:0 INSTRUCTION
3 CHECK_INSTRUCTION

two:1 LOC_VALUE ONE LOC_VALUE
7 LOC_VALUE SUB_CELL1
7 SUB_CELL1:0 VALUE1
1 GET_LOC VALUE1 ADD1
7 ADD1 SUB_NUM1

1 LOC_VALUE ONE LOC_VALUE
7 LOC_VALUE SUB_CELL2
7 SUB_CELL2:0 VALUE2
1 GET_LOC VALUE2 ADD2
7 ADD2 SUB_NUM2

1 LOC_VALUE ONE LOC_VALUE
7 LOC_VALUE SUB_CELL3
7 SUB_CELL3:0 VALUE3
1 VALUE3 GET_LOC RES_SUB

2 SUB_NUM1:0 SUB_NUM2:0 RES_SUB:0

1 LOC_VALUE ONE LOC_VALUE
7 LOC_VALUE NEXT_INSTRUCTION2
7 NEXT_INSTRUCTION2:0 INSTRUCTION
3 CHECK_INSTRUCTION


three:1 ONE LOC_VALUE LOC_VALUE
7 LOC_VALUE MOVE
7 MOVE:0 VALUE1
1 VALUE1 GET_LOC LOC_VALUE
7 LOC_VALUE:0 INSTRUCTION
3 CHECK_INSTRUCTION

four:1 LOC_VALUE ONE LOC_VALUE
7 LOC_VALUE EQ_CELL1
7 EQ_CELL1:0 VALUE1
1 GET_LOC VALUE1 ADD1
7 ADD1 CMP_NUM1

1 LOC_VALUE ONE LOC_VALUE
7 LOC_VALUE EQ_CELL2
7 EQ_CELL2:0 VALUE2
1 GET_LOC VALUE2 ADD2
7 ADD2 CMP_NUM2

1 LOC_VALUE ONE LOC_VALUE
7 LOC_VALUE EQ_CELL3
7 EQ_CELL3:0 VALUE3
1 VALUE3 GET_LOC NEXT_INST

4 CMP_NUM1:0 CMP_NUM2:0 GO

1 LOC_VALUE ONE LOC_VALUE
7 LOC_VALUE NEXT_INSTRUCTION3
7 NEXT_INSTRUCTION3:0 INSTRUCTION

3 CHECK_INSTRUCTION

GO:7 NEXT_INST:0 INSTRUCTION
7 NEXT_INST LOC
7 LOC LOC_VALUE

3 CHECK_INSTRUCTION

five:1 LOC_VALUE ONE LOC_VALUE
7 LOC_VALUE LT_CELL1
7 LT_CELL1:0 VALUE1
1 GET_LOC VALUE1 ADD1
7 ADD1 LT_NUM1

1 LOC_VALUE ONE LOC_VALUE
7 LOC_VALUE LT_CELL2
7 LT_CELL2:0 VALUE2
1 GET_LOC VALUE2 ADD2
7 ADD2 LT_NUM2

1 LOC_VALUE ONE LOC_VALUE
7 LOC_VALUE LT_CELL3
7 LT_CELL3:0 VALUE3
1 VALUE3 GET_LOC NEXT_INST1

5 LT_NUM1:0 LT_NUM2:0 GO1

1 LOC_VALUE ONE LOC_VALUE
7 LOC_VALUE NEXT_INSTRUCTION4
7 NEXT_INSTRUCTION4:0 INSTRUCTION

3 CHECK_INSTRUCTION

GO1:7 NEXT_INST1:0 INSTRUCTION
7 NEXT_INST1 LOC
7 LOC LOC_VALUE
3 CHECK_INSTRUCTION

seven:1 LOC_VALUE ONE LOC_VALUE 
7 LOC_VALUE FROM_COPY_CELL
7 FROM_COPY_CELL:0 VALUE1
1 GET_LOC VALUE1 ADD1
7 ADD1 COPY_CELL1

1 LOC_VALUE ONE LOC_VALUE
7 LOC_VALUE TO_COPY_CELL
7 TO_COPY_CELL:0 VALUE2
1 GET_LOC VALUE2 ADD2
7 ADD2 COPY_CELL2

7 COPY_CELL1:0 COPY_CELL2:0

1 LOC_VALUE ONE LOC_VALUE
7 LOC_VALUE NEXT_INST5
7 NEXT_INST5:0 INSTRUCTION

3 CHECK_INSTRUCTION 

zero:1 LOC_VALUE ONE LOC_VALUE
7 LOC_VALUE PUT_VAL
7 PUT_VAL:0 VALUE1
7 VALUE1 TO_PUT

1 LOC_VALUE ONE LOC_VALUE
7 LOC_VALUE WHERE_VAL
7 WHERE_VAL:0 VALUE2
1 GET_LOC VALUE2 ADD2
7 ADD2 WHERE

0 TO_PUT:0 WHERE:0

1 LOC_VALUE ONE LOC_VALUE
7 LOC_VALUE NEXT_INST6
7 NEXT_INST6:0 INSTRUCTION

3 CHECK_INSTRUCTION

nine:3 HALT

ten:1 LOC_VALUE ONE LOC_VALUE
7 LOC_VALUE MUL_CELL1
7 MUL_CELL1:0 VALUE1
1 GET_LOC VALUE1 ADD1
7 ADD1 MUL1

1 LOC_VALUE ONE LOC_VALUE
7 LOC_VALUE MUL_CELL2
7 MUL_CELL2:0 VALUE2
1 GET_LOC VALUE2 ADD2
7 ADD2 MUL2

1 LOC_VALUE ONE LOC_VALUE
7 LOC_VALUE RES_CELL
7 RES_CELL:0 VALUE3
1 GET_LOC VALUE3 RES_MUL
7 MUL2:0 VALUE1
loop:5 COUNTER VALUE1 multiply
3 next_ins
multiply:1 MUL1:0 RESULT RESULT
1 COUNTER ONE COUNTER
3 loop

next_ins:7 RESULT RES_MUL:0
7 ZERO COUNTER
7 ZERO RESULT
1 LOC_VALUE ONE LOC_VALUE 
7 LOC_VALUE NEXT_INST7
7 NEXT_INST7:0 INSTRUCTION

3 CHECK_INSTRUCTION

ONE:1
ZERO:0
INSTRUCTION:0
TWO:2
THREE:3
FOUR:4
FIVE:5
SEVEN:7
NINE:9
TEN:10
GET_LOC:0
VALUE1:0
VALUE2:0
VALUE3:0
RESULT:0
ADD1:0
ADD2:0
LOC:0
COUNTER:0
HALT:9

input:3 12 7 2 0 8 2 0 3 4 0 10 3 4 5 10 6 7 8 10 9 10 11 9
